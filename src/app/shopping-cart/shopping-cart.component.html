<div class="jumbotron bg-light">
  <h2>Shopping Cart</h2>
  <div class="card">
    <ng-container *ngIf="products">
      <div class="card-header">
        <p>
          You have {{shoppingCartItemCount}} items in your cart
        </p>
      </div>
      <div class="card-body">
        <table class="table table-borderless">
          <thead>
            <tr>
              <th scope="col" style="width: 10%;"></th>
              <th scope="col" style="width: 40%;">Product</th>
              <th scope="col" style="width: 25%;"></th>
              <th scope="col" class="text-center" style="width: 15%;">Quantity</th>
              <th scope="col" class="text-center" style="width: 20%;">Total</th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngFor="let product of products; index as i">
              <tr *ngIf="product.quantity">
                <td>
                  <img [src]="product.product.productImage" class="img-fluid img-thumbnail" alt="">
                </td>
                <td>{{product.product?.productTitle}}</td>
                <td>
                  <product-quantity [product]="product.product"></product-quantity>
                </td>
                <td class="text-center">{{product?.quantity}}</td>
                <td class="text-center">₹{{totalPrices[i] | localeString}}</td>
              </tr>
            </ng-container>
          </tbody>
          <tfoot class="border-top">
            <td>
            </td>
            <td></td>
            <td></td>
            <th scope="row">Grand Total</th>
            <th>₹{{grandTotal | localeString}}</th>
          </tfoot>
        </table>
        <button class="btn btn-warning btn-sm" (click)="clearCart()">
          Clear Cart
        </button>
        <a class="btn btn-success btn-sm float-right" routerLink="/checkout">
          Checkout
        </a>
      </div>
    </ng-container>
  </div>
</div>